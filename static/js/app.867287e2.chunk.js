(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{368:function(e,t,r){"use strict";r.d(t,"a",(function(){return ke}));var n=r(1),a=r.n(n),c=r(4),o=r(112),i=r(53),u=r(537),s=r(308),l=r(290),f=r(119),p=r(7),h=r.n(p),m=r(8),d=r.n(m),v=r(9),y=r.n(v),g=r(10),E=r.n(g),b=r(5),S=r.n(b),C=r(536),x=r(3),R=r(21),O=r(2),T=o.Appearance.getColorScheme(),D=O.a.create({container:{height:"100%",justifyContent:"space-around",alignItems:"center"},textCenter:{textAlign:"center",textAlignVertical:"center",color:"dark"===T?l.a.colors.text:f.a.colors.text},formContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center"},upperPart:{justifyContent:"center",alignItems:"center"}});function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S()(e);if(t){var a=S()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return E()(this,r)}}var w=function(e){y()(r,e);var t=P(r);function r(){return h()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){var e=this;return a.a.createElement(x.a,{style:D.container},a.a.createElement(x.a,null,a.a.createElement(R.c,{h2:!0,style:D.textCenter},"Let's begin"),a.a.createElement(R.c,{h1:!0,style:D.textCenter},"SPRINT")),a.a.createElement(R.a,{type:"solid",title:"Start!",onPress:function(){return e.props.navigation.navigate(Z.form)}}))}}]),r}(n.Component),j=r(208),U=function(e){return{type:"UPDATE_SPRINT",payload:e}},k=function(e){return{type:"UPDATE_RELAX",payload:e}},A=r(219),B=r(108);function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S()(e);if(t){var a=S()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return E()(this,r)}}var M=B.b().shape({hours:B.a().required().moreThan(-1).integer().lessThan(12),minutes:B.a().required().moreThan(-1).integer().lessThan(60)}),L=function(e){y()(r,e);var t=I(r);function r(){return h()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){var e=this;return console.log(this.props),a.a.createElement(A.a,{initialValues:{hours:"",minutes:""},validateOnChange:!0,onSubmit:function(t){var r,n;e.props.sprintUpdate({credit:(r=t.hours,n=t.minutes,60*r*60*1e3+60*n*1e3)}),e.props.navigation.navigate(Z.timer)},validationSchema:M,initialErrors:{hours:"",minutes:""}},(function(e){var t=e.handleChange,r=e.handleBlur,n=e.handleSubmit,c=e.values,o=e.errors,i=e.isValid,u=e.touched;return a.a.createElement(j.a,{style:D.container,behavior:"padding"},a.a.createElement(x.a,{style:D.upperPart},a.a.createElement(R.c,{h2:!0,style:D.textCenter},"For how long are you going to sprint?"),a.a.createElement(x.a,{style:[D.formContainer]},a.a.createElement(x.a,{style:{width:"50%"}},a.a.createElement(R.b,{keyboardType:"numeric",placeholder:"hh",inputStyle:[D.textCenter,{textAlign:"right"}],onChangeText:t("hours"),onBlur:r("hours"),value:c.hours}),u.hours&&o.hours&&a.a.createElement(R.c,{style:{textAlign:"right"}},o.hours)),a.a.createElement(R.c,{style:D.textCenter},":"),a.a.createElement(x.a,{style:{width:"50%"}},a.a.createElement(R.b,{keyboardType:"numeric",placeholder:"mm",onChangeText:t("minutes"),onBlur:r("minutes"),value:c.minutes,inputStyle:[D.textCenter,{textAlign:"left"}]}),u.minutes&&o.minutes&&a.a.createElement(R.c,null,o.minutes)))),a.a.createElement(R.a,{type:"solid",title:"Start!",onPress:n,disabled:!i}))}))}}]),r}(n.Component),V={sprintUpdate:U},N=Object(i.b)((function(e){return{sprintCred:e.sprint}}),V)(L),z=r(134),q=r(0),_=r.n(q);function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S()(e);if(t){var a=S()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return E()(this,r)}}var W=function(e){y()(r,e);var t=H(r);function r(e){var n;h()(this,r),n=t.call(this,e);var a=new Date;return n.state={start:a,diff:0},n}return d()(r,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){var t=new Date,r={};(r=e.state.start.getTime()+e.props.sprintCredit.credit-t.getTime())<=0&&(clearInterval(e.state.interval),r="tt",e.props.relaxUpdate({credit:e.props.sprintCredit.credit/3}),e.props.sprintUpdate({credit:-1*e.props.sprintCredit.credit}),e.props.navigation.navigate(Z.end)),e.setState({diff:r})}),250);this.setState({interval:t}),z.a.addEventListener("hardwareBackPress",(function(){return!0}))}},{key:"render",value:function(){var e=this.state.diff;return"tt"!==this.state.diff&&(e=new Date(this.state.diff).toUTCString()),a.a.createElement(x.a,{style:D.container},a.a.createElement(R.c,{h1:!0,style:D.textCenter}," ",e,"  "))}}]),r}(n.Component);W.propTypes={prop:_.a};var Y={sprintUpdate:U,relaxUpdate:k},F=Object(i.b)((function(e){return{sprintCredit:e.sprint}}),Y)(W);function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S()(e);if(t){var a=S()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return E()(this,r)}}var X=function(e){y()(r,e);var t=J(r);function r(){return h()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){var e=this,t=new Date(this.props.relax.credit),r=""+t.getUTCHours();return r+=":"+(t.getUTCMinutes()<10?"0"+t.getUTCMinutes():t.getUTCMinutes()),r+=":"+(t.getUTCSeconds()<10?"0"+t.getUTCSeconds():t.getUTCSeconds()),a.a.createElement(x.a,{style:D.container},a.a.createElement(R.c,null,"You earned"),a.a.createElement(R.c,{h1:!0,style:D.textCenter}," ",r," "),a.a.createElement(R.c,null,"so far!"),a.a.createElement(R.a,{title:"Start again!",onPress:function(){e.props.navigation.navigate(Z.form)}}))}}]),r}(n.Component),G=Object(i.b)((function(e){return{relax:e.relax}}),{})(X);function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S()(e);if(t){var a=S()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return E()(this,r)}}var Q=Object(C.a)(),Z={onBoarding:"New Sprint!",form:"Sprint for...",timer:"Sprinting..",end:"Sprint finished!"},$=function(e){y()(r,e);var t=K(r);function r(){return h()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){return a.a.createElement(Q.Navigator,{screenOptions:{headerLeft:null,gestureEnabled:!1}},a.a.createElement(Q.Screen,{name:Z.onBoarding,component:w}),a.a.createElement(Q.Screen,{name:Z.form,component:N}),a.a.createElement(Q.Screen,{name:Z.timer,component:F,options:{headerShown:!1}}),a.a.createElement(Q.Screen,{name:Z.end,component:G}))}}]),r}(n.Component),ee=r(121),te=r(11),re=r.n(te);function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){re()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{credit:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SPRINT":return ae(ae({},e),{},{credit:e.credit+t.payload.credit});default:return e}};function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){re()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{credit:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_RELAX":return ie(ie({},e),{},{credit:e.credit+t.payload.credit});default:return e}},se=Object(ee.b)({sprint:ce,relax:ue}),le=Object(ee.c)(se),fe=r(139),pe=r(161);function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S()(e);if(t){var a=S()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return E()(this,r)}}var me=function(e){y()(r,e);var t=he(r);function r(){return h()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){var e=this;return a.a.createElement(x.a,{style:D.container},a.a.createElement(x.a,null,a.a.createElement(R.c,{h2:!0,style:D.textCenter},"Let's"),a.a.createElement(R.c,{h1:!0,style:D.textCenter},"Relax")),a.a.createElement(R.a,{type:"solid",title:"Start!",onPress:function(){e.props.navigation.navigate(Pe.form)}}))}}]),r}(n.Component);function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S()(e);if(t){var a=S()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return E()(this,r)}}var ve=function(e){return new Date(e).getUTCMinutes()},ye=function(e){y()(r,e);var t=de(r);function r(e){var n;return h()(this,r),(n=t.call(this,e)).validationSchema={},n.recreateValidationSchema=function(){var e;n.validationSchema=B.b().shape({hours:B.a().required().moreThan(-1).integer().lessThan((e=n.props.rest.credit,new Date(e).getUTCHours()+1)),minutes:B.a().required().moreThan(-1).integer().lessThan(ve(n.props.rest.credit)+1)})},n.recreateValidationSchema(),n}return d()(r,[{key:"render",value:function(){var e=this;return this.recreateValidationSchema(),a.a.createElement(A.a,{initialValues:{hours:"",minutes:""},validateOnChange:!0,onSubmit:function(t){var r,n;e.props.navigation.navigate(Pe.timer,{timer:(r=t.hours,n=t.minutes,60*r*60*1e3+60*n*1e3)})},validationSchema:this.validationSchema,initialErrors:{hours:"",minutes:""}},(function(e){var t=e.handleChange,r=e.handleBlur,n=e.handleSubmit,c=e.values,o=e.errors,i=e.isValid,u=e.touched;return a.a.createElement(j.a,{style:D.container,behavior:"padding"},a.a.createElement(x.a,{style:D.upperPart},a.a.createElement(R.c,{h2:!0,style:D.textCenter},"You'll be resting for..."),a.a.createElement(x.a,{style:[D.formContainer]},a.a.createElement(x.a,{style:{width:"50%"}},a.a.createElement(R.b,{keyboardType:"numeric",placeholder:"hh",inputStyle:[D.textCenter,{textAlign:"right"}],onChangeText:t("hours"),onBlur:r("hours"),value:c.hours}),u.hours&&o.hours&&a.a.createElement(R.c,{style:{textAlign:"right"}},o.hours)),a.a.createElement(R.c,{style:D.textCenter},":"),a.a.createElement(x.a,{style:{width:"50%"}},a.a.createElement(R.b,{keyboardType:"numeric",placeholder:"mm",onChangeText:t("minutes"),onBlur:r("minutes"),value:c.minutes,inputStyle:[D.textCenter,{textAlign:"left"}]}),u.minutes&&o.minutes&&a.a.createElement(R.c,null,o.minutes)))),a.a.createElement(R.a,{type:"solid",title:"Start!",onPress:n,disabled:!i}))}))}}]),r}(n.Component),ge={restUpdate:k},Ee=Object(i.b)((function(e){return{rest:e.relax}}),ge)(ye);function be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S()(e);if(t){var a=S()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return E()(this,r)}}var Se=function(e){y()(r,e);var t=be(r);function r(e){var n;h()(this,r),n=t.call(this,e);var a=new Date;return n.state={start:a,diff:0},n}return d()(r,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){var t,r,n=new Date,a={};(a=e.state.start.getTime()+(null==(t=e.props.route.params)?void 0:t.timer)-n.getTime())<=0&&(clearInterval(e.state.interval),a="tt",e.props.relaxUpdate({credit:-(null==(r=e.props.route.params)?void 0:r.timer)}),e.props.navigation.navigate(Pe.end));e.setState({diff:a})}),250);this.setState({interval:t}),z.a.addEventListener("hardwareBackPress",(function(){return!0}))}},{key:"render",value:function(){var e=this.state.diff;return"tt"!==this.state.diff&&(e=new Date(this.state.diff).toUTCString()),a.a.createElement(x.a,{style:D.container},a.a.createElement(R.c,{h1:!0,style:D.textCenter}," ",e,"  "))}}]),r}(n.Component);Se.propTypes={prop:_.a};var Ce={relaxUpdate:k},xe=Object(i.b)((function(e){return{}}),Ce)(Se);function Re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S()(e);if(t){var a=S()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return E()(this,r)}}var Oe=function(e){y()(r,e);var t=Re(r);function r(){return h()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){var e=this,t=new Date(this.props.relax.credit),r=""+t.getUTCHours();return r+=":"+(t.getUTCMinutes()<10?"0"+t.getUTCMinutes():t.getUTCMinutes()),r+=":"+(t.getUTCSeconds()<10?"0"+t.getUTCSeconds():t.getUTCSeconds()),a.a.createElement(x.a,{style:D.container},a.a.createElement(R.c,null,"You still have"),a.a.createElement(R.c,{h1:!0,style:D.textCenter}," ",r," "),a.a.createElement(R.c,null,"to rest!"),a.a.createElement(R.a,{title:"Start again!",onPress:function(){e.props.navigation.navigate(Pe.form)}}))}}]),r}(n.Component),Te=Object(i.b)((function(e){return{relax:e.relax}}),{})(Oe);function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S()(e);if(t){var a=S()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return E()(this,r)}}var Pe={onBoarding:"Relax time ;)",form:"Relax for...",timer:"Stop looking",end:"Boohoo ;("},we=Object(C.a)(),je=function(e){y()(r,e);var t=De(r);function r(){return h()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){return a.a.createElement(we.Navigator,null,a.a.createElement(we.Screen,{name:Pe.onBoarding,component:me}),a.a.createElement(we.Screen,{name:Pe.form,component:Ee}),a.a.createElement(we.Screen,{name:Pe.timer,component:xe}),a.a.createElement(we.Screen,{name:Pe.end,component:Te}))}}]),r}(n.Component),Ue=Object(u.a)();function ke(){var e=Object(o.useColorScheme)();return a.a.createElement(i.a,{store:le},a.a.createElement(o.AppearanceProvider,null,a.a.createElement(s.a,{theme:"dark"===e?l.a:f.a},a.a.createElement(Ue.Navigator,null,a.a.createElement(Ue.Screen,{name:"Work",component:$,options:{tabBarIcon:function(e){var t=e.color,r=e.size;return"web"===c.a.OS?a.a.createElement(pe.a,{name:"suitcase",color:t,size:r}):a.a.createElement(fe.a,{name:"suitcase",color:t,size:r})}}}),a.a.createElement(Ue.Screen,{name:"Relax",component:je,options:{tabBarIcon:function(e){var t=e.color,r=e.size;return a.a.createElement(pe.a,{name:"smile",color:t,size:r})}}})))))}},375:function(e,t,r){r(376),e.exports=r(524)},376:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/gtd-timer/expo-service-worker.js",{scope:"/gtd-timer/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[375,1,2]]]);
//# sourceMappingURL=app.867287e2.chunk.js.map