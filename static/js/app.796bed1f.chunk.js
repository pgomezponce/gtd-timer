(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{366:function(e,t,r){"use strict";r.d(t,"a",(function(){return le}));var n=r(1),a=r.n(n),c=r(111),o=r(97),i=r(536),u=r(305),s=r(287),l=r(118),f=r(7),p=r.n(f),h=r(9),d=r.n(h),m=r(11),y=r.n(m),v=r(12),g=r.n(v),b=r(5),E=r.n(b),O=r(535),C=r(3),S=r(42),P=r(2),j=c.Appearance.getColorScheme(),x=P.a.create({container:{height:"100%",justifyContent:"space-around",alignItems:"center"},textCenter:{textAlign:"center",textAlignVertical:"center",color:"dark"===j?s.a.colors.text:l.a.colors.text},formContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center"},upperPart:{justifyContent:"center",alignItems:"center"}});function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E()(e);if(t){var a=E()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return g()(this,r)}}var R=function(e){y()(r,e);var t=w(r);function r(){return p()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){var e=this;return a.a.createElement(C.a,{style:x.container},a.a.createElement(C.a,null,a.a.createElement(S.c,{h2:!0,style:x.textCenter},"Let's begin"),a.a.createElement(S.c,{h1:!0,style:x.textCenter},"SPRINT")),a.a.createElement(S.a,{type:"solid",title:"Start!",onPress:function(){return e.props.navigation.navigate(K.form)}}))}}]),r}(n.Component),D=r(363),T=function(e){return{type:"UPDATE_SPRINT",payload:e}},k=r(367),U=r(222);function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E()(e);if(t){var a=E()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return g()(this,r)}}var I=U.b().shape({hours:U.a().required().moreThan(-1).integer().lessThan(12),minutes:U.a().required().moreThan(-1).integer().lessThan(60)}),B=function(e){y()(r,e);var t=A(r);function r(){return p()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){var e=this;return console.log(this.props),a.a.createElement(k.a,{initialValues:{hours:"",minutes:""},validateOnChange:!0,onSubmit:function(t){var r,n;e.props.sprintUpdate({credit:(r=t.hours,n=t.minutes,60*r*60*1e3+60*n*1e3)}),e.props.navigation.navigate(K.timer)},validationSchema:I,initialErrors:{hours:"",minutes:""}},(function(e){var t=e.handleChange,r=e.handleBlur,n=e.handleSubmit,c=e.values,o=e.errors,i=e.isValid,u=e.touched;return a.a.createElement(D.a,{style:x.container,behavior:"padding"},a.a.createElement(C.a,{style:x.upperPart},a.a.createElement(S.c,{h2:!0,style:x.textCenter},"For how long are you going to sprint?"),a.a.createElement(C.a,{style:[x.formContainer]},a.a.createElement(C.a,{style:{width:"50%"}},a.a.createElement(S.b,{keyboardType:"numeric",placeholder:"hh",inputStyle:[x.textCenter,{textAlign:"right"}],onChangeText:t("hours"),onBlur:r("hours"),value:c.hours}),u.hours&&o.hours&&a.a.createElement(S.c,{style:{textAlign:"right"}},o.hours)),a.a.createElement(S.c,{style:x.textCenter},":"),a.a.createElement(C.a,{style:{width:"50%"}},a.a.createElement(S.b,{keyboardType:"numeric",placeholder:"mm",onChangeText:t("minutes"),onBlur:r("minutes"),value:c.minutes,inputStyle:[x.textCenter,{textAlign:"left"}]}),u.minutes&&o.minutes&&a.a.createElement(S.c,null,o.minutes)))),a.a.createElement(S.a,{type:"solid",title:"Start!",onPress:n,disabled:!i}))}))}}]),r}(n.Component),L={sprintUpdate:T},N=Object(o.b)((function(e){return{sprintCred:e.sprint}}),L)(B),M=r(204),_=r(0),V=r.n(_);function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E()(e);if(t){var a=E()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return g()(this,r)}}var q=function(e){y()(r,e);var t=W(r);function r(e){var n;p()(this,r),n=t.call(this,e);var a=new Date;return n.state={start:a,diff:0},n}return d()(r,[{key:"componentDidMount",value:function(){var e=this,t=setInterval((function(){var t=new Date,r={};(r=e.state.start.getTime()+e.props.sprintCredit.credit-t.getTime())<=0&&(clearInterval(e.state.interval),r="tt",e.props.relaxUpdate({credit:e.props.sprintCredit.credit/3}),e.props.sprintUpdate({credit:-1*e.props.sprintCredit.credit}),e.props.navigation.navigate(K.end)),e.setState({diff:r})}),250);this.setState({interval:t}),M.a.addEventListener("hardwareBackPress",(function(){return!0}))}},{key:"render",value:function(){var e=this.state.diff;return"tt"!==this.state.diff&&(e=new Date(this.state.diff).toUTCString()),a.a.createElement(C.a,{style:x.container},a.a.createElement(S.c,{h1:!0,style:x.textCenter}," ",e,"  "))}}]),r}(n.Component);q.propTypes={prop:V.a};var z={sprintUpdate:T,relaxUpdate:function(e){return{type:"UPDATE_RELAX",payload:e}}},F=Object(o.b)((function(e){return{sprintCredit:e.sprint}}),z)(q);function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E()(e);if(t){var a=E()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return g()(this,r)}}var X=function(e){y()(r,e);var t=J(r);function r(){return p()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){var e=this,t=new Date(this.props.relax.credit),r=""+t.getUTCHours();return r+=":"+(t.getUTCMinutes()<10?"0"+t.getUTCMinutes():t.getUTCMinutes()),r+=":"+(t.getUTCSeconds()<10?"0"+t.getUTCSeconds():t.getUTCSeconds()),a.a.createElement(C.a,{style:x.container},a.a.createElement(S.c,null,"You earned"),a.a.createElement(S.c,{h1:!0,style:x.textCenter}," ",r," "),a.a.createElement(S.c,null,"so far!"),a.a.createElement(S.a,{title:"Start again!",onPress:function(){e.props.navigation.navigate(K.form)}}))}}]),r}(n.Component),H=Object(o.b)((function(e){return{relax:e.relax}}),{})(X);function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E()(e);if(t){var a=E()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return g()(this,r)}}var G=Object(O.a)(),K={onBoarding:"New Sprint!",form:"Sprint for...",timer:"Sprinting..",end:"Sprint finished!"},Q=function(e){y()(r,e);var t=Y(r);function r(){return p()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){return a.a.createElement(G.Navigator,{screenOptions:{headerLeft:null,gestureEnabled:!1}},a.a.createElement(G.Screen,{name:K.onBoarding,component:R}),a.a.createElement(G.Screen,{name:K.form,component:N}),a.a.createElement(G.Screen,{name:K.timer,component:F,options:{headerShown:!1}}),a.a.createElement(G.Screen,{name:K.end,component:H}))}}]),r}(n.Component),Z=r(120),$=r(8),ee=r.n($);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){ee()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{credit:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SPRINT":return re(re({},e),{},{credit:e.credit+t.payload.credit});default:return e}};function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){ee()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{credit:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_RELAX":return ce(ce({},e),{},{credit:e.credit+t.payload.credit});default:return e}},ie=Object(Z.b)({sprint:ne,relax:oe}),ue=Object(Z.c)(ie),se=Object(i.a)();function le(){var e=Object(c.useColorScheme)();return a.a.createElement(o.a,{store:ue},a.a.createElement(c.AppearanceProvider,null,a.a.createElement(u.a,{theme:"dark"===e?s.a:l.a},a.a.createElement(se.Navigator,null,a.a.createElement(se.Screen,{name:"Work",component:Q})))))}},373:function(e,t,r){r(374),e.exports=r(522)},374:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("pgomezponce.github.io/gtd-timer/expo-service-worker.js",{scope:"pgomezponce.github.io/gtd-timer/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[373,1,2]]]);
//# sourceMappingURL=app.796bed1f.chunk.js.map